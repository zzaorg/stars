import{e as se,U as ae,h as y,p as oe,V as ne,x as le,o as d,a as _,b as B,S as J,u as e,s as t,W as $,t as a,X as v,Y as K,Z as ce,R as ie}from"./entry.1aeaeb39.js";import re from"./IconWikipedia.c51e0cdc.js";import de from"./ContentRenderer.c712fd42.js";import{u as _e}from"./useURL.21288be0.js";import{u as ue}from"./asyncData.f69fd67f.js";import{q as me}from"./query.561463a9.js";const he=t("svg",{class:"w-4 h-4",width:"32",height:"32",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 20.25a.75.75 0 0 1-.75-.75V6.31l-5.47 5.47a.75.75 0 0 1-1.06-1.06l6.75-6.75a.75.75 0 0 1 1.06 0l6.75 6.75a.75.75 0 1 1-1.06 1.06l-5.47-5.47V19.5a.75.75 0 0 1-.75.75Z","clip-rule":"evenodd"})],-1),pe={class:"flex flex-col items-center justify-center p-4"},ve={key:0,class:"w-36 h-36"},ge=["src"],fe={class:"text-3xl my-3"},xe={class:"flex flex-col items-center justify-center text-center gap-1 mt-2"},ye={class:"text-sm text-gray-500"},we={class:"my-1"},be={class:"text-black"},ke={class:"text-black"},Be={class:"text-black"},$e={class:"text-sm text-gray-500"},je={class:"my-1"},Ce={class:"text-black"},Ve={class:"text-black"},Ae={class:"text-black"},De={class:"text-sm text-gray-500"},Ne={class:"my-1"},Le={class:"text-black"},Re={class:"bottom-0",dir:"ltr"},qe=["href"],Fe=t("hr",{class:"bg-gray-500 w-full mt-8"},null,-1),Ie={class:"content p-8 max-w-[680px] leading-7"},Se=t("div",null,null,-1),Te={class:"my-2"},Ue={class:"w-full grid grid-cols-4 gap-2"},We=["src"],Pe=se({__name:"DetailsPage",async setup(Ye){var N,L,R,q;let g,j;const{withAppBase:C,join:Q,withDomain:V}=_e(),{$t:o,$date:A,lang:w}=ae(),ee=y(()=>w.value==="fa"?"":w.value),b=oe(),D="/"+(Array.isArray(b.params.slug)?b.params.slug:[b.params.slug]).filter(Boolean).join("/"),{data:s}=([g,j]=ne(()=>ue(`deatails-${D}`,()=>me(D).without(["excerpt","_file"]).sort({"death.date":-1}).findOne(),{})),g=await g,j(),g),f=y(()=>{var n,l;return w.value==="en"?(n=s.value)==null?void 0:n.name:(l=s.value)==null?void 0:l.nameFa}),te=`${f.value} - ${(L=(N=s.value)==null?void 0:N.death)==null?void 0:L.city} - ${(q=(R=s.value)==null?void 0:R.death)==null?void 0:q.province}`,x=y(()=>{var n,l,c,i,r;return(l=(n=s.value)==null?void 0:n.images)!=null&&l[0]?C((c=s.value)==null?void 0:c._path,(r=(i=s.value)==null?void 0:i.images)==null?void 0:r[0]):""}),k=y(()=>{var n,l,c,i,r,u,m,h,p;return[(l=(n=s.value)==null?void 0:n.death)==null?void 0:l.date,(i=(c=s.value)==null?void 0:c.death)!=null&&i.age?` ${(r=s.value)==null?void 0:r.death.age} ${o("Years")}
`:"",(m=(u=s.value)==null?void 0:u.death)==null?void 0:m.city,(p=(h=s.value)==null?void 0:h.death)==null?void 0:p.province].filter(Boolean).join(" - ")});return le({title:te,meta:[{name:"description",content:k.value},{name:"og:title",content:f.value},{name:"og:description",content:k.value},{name:"og:image",content:V(x.value)},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:f.value},{name:"twitter:description",content:k.value},{name:"twitter:image",content:V(x.value)}]}),(n,l)=>{var u,m,h,p,F,I,S,T,U,W,Y,Z,E,G,H,M,O,P,X;const c=ie,i=re,r=de;return d(),_("div",null,[B(c,{to:e(Q)(e(ee)),class:"flex p-4 items-center justify-center bg-gray-100"},{default:J(()=>[he,v(" "+a(e(o)("Back To List")),1)]),_:1},8,["to"]),t("div",pe,[e(x)?(d(),_("div",ve,[t("img",{src:e(x),alt:"",class:"w-full h-full rounded-full mx-auto block object-cover"},null,8,ge)])):$("",!0),t("h1",fe,a(e(f)),1),t("div",xe,[t("div",ye,[t("div",we,a(e(o)("Birth")),1),t("div",null,[t("span",be,a(e(A)((m=(u=e(s))==null?void 0:u.birth)==null?void 0:m.date)),1),v(" - "),t("span",ke,a(e(o)((p=(h=e(s))==null?void 0:h.birth)==null?void 0:p.city)),1),v(" - "),t("span",Be,a(e(o)((I=(F=e(s))==null?void 0:F.birth)==null?void 0:I.province)),1)])]),t("div",$e,[t("div",je,a(e(o)("Death")),1),t("span",Ce,a(e(A)((T=(S=e(s))==null?void 0:S.death)==null?void 0:T.date)),1),v(" - "),t("span",Ve,a(e(o)((W=(U=e(s))==null?void 0:U.death)==null?void 0:W.city)),1),v(" - "),t("span",Ae,a(e(o)((Z=(Y=e(s))==null?void 0:Y.death)==null?void 0:Z.province)),1)]),t("div",De,[t("div",Ne,a(e(o)("Age")),1),t("span",Le,a(e(o)((G=(E=e(s))==null?void 0:E.death)==null?void 0:G.age)||"-"),1)])]),t("div",Re,[(H=e(s))!=null&&H.wikipedia?(d(),_("a",{key:0,rel:"noopener noreferrer",target:"_blank",title:"wikipedia",href:(M=e(s))==null?void 0:M.wikipedia,class:"inline-block border border-gray-300 rounded-md shadow-sm py-1 px-1 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[B(i,{class:"w-4 h-4"})],8,qe)):$("",!0)]),Fe,t("div",Ie,[B(r,{value:e(s)},{empty:J(()=>[Se]),_:1},8,["value"])]),(P=(O=e(s))==null?void 0:O.images)!=null&&P.length?(d(),_(K,{key:1},[t("h4",Te,a(e(o)("Gallery")),1),t("div",Ue,[(d(!0),_(K,null,ce((X=e(s))==null?void 0:X.images,z=>(d(),_("div",{key:z,class:"relative w-full pb-[100%]"},[t("img",{src:e(C)(e(s)._path,z),class:"w-full h-full object-cover absolute"},null,8,We)]))),128))])],64)):$("",!0)])])}}});export{Pe as _};
