import Y from"./IconWikipedia.986b05af.js";import E from"./ContentRenderer.ba9e304e.js";import{u as G}from"./useAbsoluteURL.9615d21f.js";import{f as H,a as I,p as K,S as O,k as x,e as T,o as _,K as u,u as s,L as t,U as b,V as o,W as g,X as q,R as X,Y as F,Z}from"./entry.72f06139.js";import{u as z}from"./asyncData.e95fe6b6.js";import{q as J}from"./query.76834339.js";import"./ContentRendererMarkdown.fa345b08.js";import"./_commonjsHelpers.f8a6f4fc.js";import"./utils.7ba81cba.js";const M={class:"flex flex-col items-center justify-center p-4"},P={key:0,class:"w-36 h-36"},Q=["src"],ee={class:"text-3xl my-3"},te={class:"flex flex-col items-center justify-center text-center gap-1 mt-2"},se={class:"text-sm text-gray-500"},ae={class:"my-1"},oe={class:"text-black"},ne={class:"text-black"},ie={class:"text-black"},ce={class:"text-sm text-gray-500"},le={class:"my-1"},re={class:"text-black"},de={class:"text-black"},_e={class:"text-black"},ue={class:"text-sm text-gray-500"},me={class:"my-1"},he={class:"text-black"},pe={class:"bottom-0",dir:"ltr"},ve=["href"],ge=t("hr",{class:"bg-gray-500 w-full mt-8"},null,-1),fe={class:"content p-8 max-w-[680px] leading-7"},ye=t("div",null,null,-1),xe={class:"my-2"},be={class:"w-full grid grid-cols-4 gap-2"},ke=["src"],Le=H({__name:"[...slug]",async setup(we){var B,C;let p,k;const{absoluteURL:w,withDomain:$}=G(),f=I(),{$t:i,$lang:S,$date:A}=K(),j="/"+(Array.isArray(f.params.slug)?f.params.slug:[f.params.slug]).filter(Boolean).join("/"),{data:e}=([p,k]=O(()=>z(j,()=>J(j).without(["excerpt","_file"]).sort({"death.date":-1}).findOne(),{transform:a=>{var r,c,l,n,d,h;return{...a,death:{...a.death,date:A((r=a.death)==null?void 0:r.date),city:i((c=a.death)==null?void 0:c.city),province:i((l=a.death)==null?void 0:l.province)},birth:{...a.birth,date:A((n=a.birth)==null?void 0:n.date),city:i((d=a.birth)==null?void 0:d.city),province:i((h=a.birth)==null?void 0:h.province)}}}})),p=await p,k(),p),m=x(()=>S==="en"?e.value.name:e.value.nameFa),W=`${m.value} - ${(B=e.value.death)==null?void 0:B.city} - ${(C=e.value.death)==null?void 0:C.province}`,v=x(()=>{var a,r,c,l,n;return(r=(a=e.value)==null?void 0:a.images)!=null&&r[0]?w((c=e.value)==null?void 0:c._path,(n=(l=e.value)==null?void 0:l.images)==null?void 0:n[0]):""}),y=x(()=>{var a,r,c,l,n,d;return[m.value,(a=e.value)!=null&&a.death.age?` ${(r=e.value)==null?void 0:r.death.age} ${i("Years")}
`:"",(l=(c=e.value)==null?void 0:c.death)==null?void 0:l.date,(n=e.value.death)==null?void 0:n.city,(d=e.value.death)==null?void 0:d.province].filter(Boolean).join(" - ")});return T({title:W,meta:[{name:"description",content:y.value},{name:"og:title",content:m.value},{name:"og:description",content:y.value},{name:"og:image",content:$(v.value)},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:m.value},{name:"twitter:description",content:y.value},{name:"twitter:image",content:$(v.value)}]}),(a,r)=>{var n,d,h,N,R,V,D,L;const c=Y,l=E;return _(),u("div",M,[s(v)?(_(),u("div",P,[t("img",{src:s(v),alt:"",class:"w-full h-full rounded-full mx-auto block object-cover"},null,8,Q)])):b("",!0),t("h1",ee,o(s(m)),1),t("div",te,[t("div",se,[t("div",ae,o(s(i)("Birth")),1),t("div",null,[t("span",oe,o((n=s(e).birth)==null?void 0:n.date),1),g(" - "),t("span",ne,o((d=s(e).birth)==null?void 0:d.city),1),g(" - "),t("span",ie,o((h=s(e).birth)==null?void 0:h.province),1)])]),t("div",ce,[t("div",le,o(s(i)("Death")),1),t("span",re,o((N=s(e).death)==null?void 0:N.date),1),g(" - "),t("span",de,o((R=s(e).death)==null?void 0:R.city),1),g(" - "),t("span",_e,o((V=s(e).death)==null?void 0:V.province),1)]),t("div",ue,[t("div",me,o(s(i)("Age")),1),t("span",he,o(s(i)((D=s(e).death)==null?void 0:D.age)||"-"),1)])]),t("div",pe,[s(e).wikipedia?(_(),u("a",{key:0,rel:"noopener noreferrer",target:"_blank",title:"wikipedia",href:s(e).wikipedia,class:"inline-block border border-gray-300 rounded-md shadow-sm py-1 px-1 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[q(c,{class:"w-4 h-4"})],8,ve)):b("",!0)]),ge,t("div",fe,[q(l,{value:s(e)},{empty:X(()=>[ye]),_:1},8,["value"])]),(L=s(e).images)!=null&&L.length?(_(),u(F,{key:1},[t("h4",xe,o(s(i)("Gallery")),1),t("div",be,[(_(!0),u(F,null,Z(s(e).images,U=>(_(),u("div",{key:U,class:"relative w-full pb-[100%]"},[t("img",{src:s(w)(s(e)._path,U),class:"w-full h-full object-cover absolute"},null,8,ke)]))),128))])],64)):b("",!0)])}}});export{Le as default};
