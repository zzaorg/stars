import{f as Y,R as Z,k as f,a as E,S as G,e as H,o as _,K as u,U as k,Q as O,u as s,L as e,V as B,W as o,X as p,Y as S,Z as K,O as M}from"./entry.6ab1231d.js";import P from"./IconWikipedia.ab5800db.js";import Q from"./ContentRenderer.024d47c1.js";import{u as X}from"./useAbsoluteURL.8b6e68f9.js";import{u as z}from"./asyncData.d9bbedfa.js";import{q as J}from"./query.a10379fe.js";const ee=e("svg",{class:"w-4 h-4",width:"32",height:"32",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 20.25a.75.75 0 0 1-.75-.75V6.31l-5.47 5.47a.75.75 0 0 1-1.06-1.06l6.75-6.75a.75.75 0 0 1 1.06 0l6.75 6.75a.75.75 0 1 1-1.06 1.06l-5.47-5.47V19.5a.75.75 0 0 1-.75.75Z","clip-rule":"evenodd"})],-1),te={class:"flex flex-col items-center justify-center p-4"},se={key:0,class:"w-36 h-36"},ae=["src"],oe={class:"text-3xl my-3"},ne={class:"flex flex-col items-center justify-center text-center gap-1 mt-2"},ie={class:"text-sm text-gray-500"},ce={class:"my-1"},le={class:"text-black"},re={class:"text-black"},de={class:"text-black"},_e={class:"text-sm text-gray-500"},ue={class:"my-1"},he={class:"text-black"},me={class:"text-black"},pe={class:"text-black"},ve={class:"text-sm text-gray-500"},ge={class:"my-1"},fe={class:"text-black"},ye={class:"bottom-0",dir:"ltr"},xe=["href"],be=e("hr",{class:"bg-gray-500 w-full mt-8"},null,-1),we={class:"content p-8 max-w-[680px] leading-7"},ke=e("div",null,null,-1),Be={class:"my-2"},$e={class:"w-full grid grid-cols-4 gap-2"},je=["src"],Ue=Y({__name:"DetailsPage",async setup(Ce){var A,L;let v,$;const{$t:n,$date:j,lang:y}=Z(),T=f(()=>y.value==="fa"?"":y.value),{absoluteURL:x,withDomain:C}=X(),b=E(),V="/"+(Array.isArray(b.params.slug)?b.params.slug:[b.params.slug]).filter(Boolean).join("/"),{data:t}=([v,$]=G(()=>z(V,()=>J(V).without(["excerpt","_file"]).sort({"death.date":-1}).findOne(),{transform:a=>{var r,i,c,l,d,m;return{...a,death:{...a.death,date:j((r=a.death)==null?void 0:r.date),city:n((i=a.death)==null?void 0:i.city),province:n((c=a.death)==null?void 0:c.province)},birth:{...a.birth,date:j((l=a.birth)==null?void 0:l.date),city:n((d=a.birth)==null?void 0:d.city),province:n((m=a.birth)==null?void 0:m.province)}}}})),v=await v,$(),v),h=f(()=>y.value==="en"?t.value.name:t.value.nameFa),W=`${h.value} - ${(A=t.value.death)==null?void 0:A.city} - ${(L=t.value.death)==null?void 0:L.province}`,g=f(()=>{var a,r,i,c,l;return(r=(a=t.value)==null?void 0:a.images)!=null&&r[0]?x((i=t.value)==null?void 0:i._path,(l=(c=t.value)==null?void 0:c.images)==null?void 0:l[0]):""}),w=f(()=>{var a,r,i,c,l,d;return[h.value,(a=t.value)!=null&&a.death.age?` ${(r=t.value)==null?void 0:r.death.age} ${n("Years")}
`:"",(c=(i=t.value)==null?void 0:i.death)==null?void 0:c.date,(l=t.value.death)==null?void 0:l.city,(d=t.value.death)==null?void 0:d.province].filter(Boolean).join(" - ")});return H({title:W,meta:[{name:"description",content:w.value},{name:"og:title",content:h.value},{name:"og:description",content:w.value},{name:"og:image",content:C(g.value)},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:h.value},{name:"twitter:description",content:w.value},{name:"twitter:image",content:C(g.value)}]}),(a,r)=>{var d,m,D,N,R,U,q,F;const i=M,c=P,l=Q;return _(),u("div",null,[k(i,{to:s(x)(s(T)),class:"flex p-4 items-center justify-center bg-gray-100"},{default:O(()=>[ee,p(" "+o(s(n)("Back To List")),1)]),_:1},8,["to"]),e("div",te,[s(g)?(_(),u("div",se,[e("img",{src:s(g),alt:"",class:"w-full h-full rounded-full mx-auto block object-cover"},null,8,ae)])):B("",!0),e("h1",oe,o(s(h)),1),e("div",ne,[e("div",ie,[e("div",ce,o(s(n)("Birth")),1),e("div",null,[e("span",le,o((d=s(t).birth)==null?void 0:d.date),1),p(" - "),e("span",re,o((m=s(t).birth)==null?void 0:m.city),1),p(" - "),e("span",de,o((D=s(t).birth)==null?void 0:D.province),1)])]),e("div",_e,[e("div",ue,o(s(n)("Death")),1),e("span",he,o((N=s(t).death)==null?void 0:N.date),1),p(" - "),e("span",me,o((R=s(t).death)==null?void 0:R.city),1),p(" - "),e("span",pe,o((U=s(t).death)==null?void 0:U.province),1)]),e("div",ve,[e("div",ge,o(s(n)("Age")),1),e("span",fe,o(s(n)((q=s(t).death)==null?void 0:q.age)||"-"),1)])]),e("div",ye,[s(t).wikipedia?(_(),u("a",{key:0,rel:"noopener noreferrer",target:"_blank",title:"wikipedia",href:s(t).wikipedia,class:"inline-block border border-gray-300 rounded-md shadow-sm py-1 px-1 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[k(c,{class:"w-4 h-4"})],8,xe)):B("",!0)]),be,e("div",we,[k(l,{value:s(t)},{empty:O(()=>[ke]),_:1},8,["value"])]),(F=s(t).images)!=null&&F.length?(_(),u(S,{key:1},[e("h4",Be,o(s(n)("Gallery")),1),e("div",$e,[(_(!0),u(S,null,K(s(t).images,I=>(_(),u("div",{key:I,class:"relative w-full pb-[100%]"},[e("img",{src:s(x)(s(t)._path,I),class:"w-full h-full object-cover absolute"},null,8,je)]))),128))])],64)):B("",!0)])])}}});export{Ue as _};
