import{_ as C}from"./AppTable.vue_vue_type_script_setup_true_lang.ef4b7a4d.js";import{S as M,q as c,k as p,o as n,K as d,U as $,L as t,$ as B,a0 as D,Y as F,Z,u as m,c as z,V as u,a1 as L}from"./entry.72f06139.js";import{u as H}from"./asyncData.e95fe6b6.js";import{q as V}from"./query.76834339.js";import"./utils.7ba81cba.js";const j={class:"flex p-4"},T={class:"flex-1"},U={class:"pt-6 pb-3 mb-3 sticky top-0 bg-white z-20 flex gap-x-3"},q={class:"flex"},A={"data-testid":"geist-icon",fill:"none",height:"18","shape-rendering":"geometricPrecision",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",viewBox:"0 0 24 24",width:"18",style:{color:"currentcolor","vertical-align":"text-top"}},E=t("path",{d:"M3 3h7v7H3z"},null,-1),S=t("path",{d:"M14 3h7v7h-7z"},null,-1),N=t("path",{d:"M14 14h7v7h-7z"},null,-1),Y=t("path",{d:"M3 14h7v7H3z"},null,-1),G=[E,S,N,Y],I=t("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"M3.71 16.29a1 1 0 0 0-.33-.21a1 1 0 0 0-.76 0a1 1 0 0 0-.33.21a1 1 0 0 0-.21.33a1 1 0 0 0 .21 1.09a1.15 1.15 0 0 0 .33.21a.94.94 0 0 0 .76 0a1.15 1.15 0 0 0 .33-.21a1 1 0 0 0 .21-1.09a1 1 0 0 0-.21-.33ZM7 8h14a1 1 0 0 0 0-2H7a1 1 0 0 0 0 2Zm-3.29 3.29a1 1 0 0 0-1.09-.21a1.15 1.15 0 0 0-.33.21a1 1 0 0 0-.21.33a.94.94 0 0 0 0 .76a1.15 1.15 0 0 0 .21.33a1.15 1.15 0 0 0 .33.21a.94.94 0 0 0 .76 0a1.15 1.15 0 0 0 .33-.21a1.15 1.15 0 0 0 .21-.33a.94.94 0 0 0 0-.76a1 1 0 0 0-.21-.33ZM21 11H7a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2ZM3.71 6.29a1 1 0 0 0-.33-.21a1 1 0 0 0-1.09.21a1.15 1.15 0 0 0-.21.33a.94.94 0 0 0 0 .76a1.15 1.15 0 0 0 .21.33a1.15 1.15 0 0 0 .33.21a1 1 0 0 0 1.09-.21a1.15 1.15 0 0 0 .21-.33a.94.94 0 0 0 0-.76a1.15 1.15 0 0 0-.21-.33ZM21 16H7a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2Z"})],-1),K=[I],P={key:0,class:"grid grid-cols-1 gap-y-5 gap-x-3 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},R=["href"],X={class:"flex items-start border rounded-md"},J=["src","alt"],O={class:"min-w-0 relative flex-auto px-4 py-2"},Q={class:"font-semibold text-slate-900 truncate"},W={class:"font-semibold text-slate-900 truncate"},ee={class:"mt-2 flex flex-wrap text-sm leading-6 font-medium"},te=["onClick"],oe=t("dt",{class:"sr-only"},"Location",-1),ae={class:"px-1.5 ring-1 ring-slate-200 rounded"},se={class:"flex-none w-full mt-2 font-normal"},ne=t("dt",{class:"sr-only"},"Cast",-1),re={class:"text-slate-400"},fe={__name:"en",async setup(de){let l,g;const x=new Intl.DateTimeFormat("en-GB",{dateStyle:"long"}),{data:h}=([l,g]=M(()=>H(()=>V().without(["body","excerpt","_file"]).sort({"death.date":-1}).find(),{transform:a=>a.map(o=>{var s,e,r;return{...o,text:`${o.name} ${((s=o.death)==null?void 0:s.location)||""} ${((e=o.death)==null?void 0:e.date)||""} ${o.nameFa}`.toLocaleLowerCase(),death:{...o.death,dateEn:((r=o.death)==null?void 0:r.date)&&x.format(new Date(o.death.date))}}})},"$X7xkTR0YUF")),l=await l,g(),l),_=c("grid"),i=c(""),f=c(""),v=c(""),w=p(()=>{let a=h.value;if(f.value&&(a=a.filter(s=>{var e;return((e=s.death)==null?void 0:e.location)===f.value})),v.value&&(a=a.filter(s=>{var e;return((e=s.death)==null?void 0:e.date)===v.value})),!i.value)return a;const o=i.value.toLowerCase();return a.filter(s=>s.text.includes(o))});return p(()=>h.value.reduce((a,o)=>{var e;const s=(e=o.death)==null?void 0:e.location;return a[s]||(a[s]=0),a[s]+=1,a},{})),p(()=>h.value.reduce((a,o)=>{var e;const s=((e=o.death)==null?void 0:e.date)||"Unknown";return a[s]||(a[s]=0),a[s]+=1,a},{})),(a,o)=>{const s=C;return n(),d("div",j,[$("",!0),t("div",T,[t("div",U,[B(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>i.value=e),placeholder:"Filter",class:"flex-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[D,i.value]]),t("div",q,[t("button",{onClick:o[3]||(o[3]=e=>_.value="grid"),class:"w-10 flex justify-center items-center flex-none border border-gray-300 rounded-md rounded-r-none shadow-sm py-1 px-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[(n(),d("svg",A,G))]),t("button",{onClick:o[4]||(o[4]=e=>_.value="list"),class:"w-10 flex justify-center items-center flex-none border border-l-0 border-gray-300 rounded-md rounded-l-none shadow-sm py-1 px-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},K)])]),_.value==="grid"?(n(),d("div",P,[(n(!0),d(F,null,Z(m(w),e=>{var r,y,b;return n(),d("article",{key:e._path,href:e._path},[t("div",X,[t("img",{src:e._path+"/"+((r=e.images)==null?void 0:r[0]),alt:e.name,width:"120",height:"176",class:"flex-none rounded-md bg-slate-100 object-cover w-[120px] h-[176px]",loading:"lazy"},null,8,J),t("div",O,[t("h2",Q,u(e.name),1),t("h2",W,u(e.nameFa),1),t("dl",ee,[t("div",{onClick:L(le=>{var k;return f.value=(k=e.death)==null?void 0:k.location},["prevent"])},[oe,t("dd",ae,u((y=e.death)==null?void 0:y.location),1)],8,te),t("div",se,[ne,t("dd",re,u(((b=e.death)==null?void 0:b.date)&&m(x).format(new Date(e.death.date))),1)])])])])],8,R)}),128))])):(n(),z(s,{key:1,rows:m(w)},null,8,["rows"]))])])}}};export{fe as default};
