import{f as G,R as H,k as y,a as K,S as M,e as P,o as d,K as _,U as B,Q as U,u as e,L as t,V as j,W as a,X as v,Y as W,Z as Q,O as X}from"./entry.8918de04.js";import z from"./IconWikipedia.e079928f.js";import J from"./ContentRenderer.8f388bba.js";import{u as ee}from"./useURL.acb8b306.js";import{u as te}from"./asyncData.7196ebb2.js";import{q as se}from"./query.feaaf125.js";const ae=t("svg",{class:"w-4 h-4",width:"32",height:"32",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 20.25a.75.75 0 0 1-.75-.75V6.31l-5.47 5.47a.75.75 0 0 1-1.06-1.06l6.75-6.75a.75.75 0 0 1 1.06 0l6.75 6.75a.75.75 0 1 1-1.06 1.06l-5.47-5.47V19.5a.75.75 0 0 1-.75.75Z","clip-rule":"evenodd"})],-1),oe={class:"flex flex-col items-center justify-center p-4"},ne={key:0,class:"w-36 h-36"},le=["src"],ce={class:"text-3xl my-3"},ie={class:"flex flex-col items-center justify-center text-center gap-1 mt-2"},re={class:"text-sm text-gray-500"},de={class:"my-1"},_e={class:"text-black"},ue={class:"text-black"},me={class:"text-black"},he={class:"text-sm text-gray-500"},pe={class:"my-1"},ve={class:"text-black"},ge={class:"text-black"},fe={class:"text-black"},xe={class:"text-sm text-gray-500"},ye={class:"my-1"},we={class:"text-black"},be={class:"bottom-0",dir:"ltr"},ke=["href"],Be=t("hr",{class:"bg-gray-500 w-full mt-8"},null,-1),je={class:"content p-8 max-w-[680px] leading-7"},$e=t("div",null,null,-1),Ce={class:"my-2"},Ve={class:"w-full grid grid-cols-4 gap-2"},Ae=["src"],Oe=G({__name:"DetailsPage",async setup(De){var L,N,R,q;let g,$;const{withAppBase:C,join:Y,withDomain:V}=ee(),{$t:o,$date:A,lang:w}=H(),Z=y(()=>w.value==="fa"?"":w.value),b=K(),D="/"+(Array.isArray(b.params.slug)?b.params.slug:[b.params.slug]).filter(Boolean).join("/"),{data:s}=([g,$]=M(()=>te(D,()=>se(D).without(["excerpt","_file"]).sort({"death.date":-1}).findOne(),{})),g=await g,$(),g),f=y(()=>{var n,l;return w.value==="en"?(n=s.value)==null?void 0:n.name:(l=s.value)==null?void 0:l.nameFa}),E=`${f.value} - ${(N=(L=s.value)==null?void 0:L.death)==null?void 0:N.city} - ${(q=(R=s.value)==null?void 0:R.death)==null?void 0:q.province}`,x=y(()=>{var n,l,c,i,r;return(l=(n=s.value)==null?void 0:n.images)!=null&&l[0]?C((c=s.value)==null?void 0:c._path,(r=(i=s.value)==null?void 0:i.images)==null?void 0:r[0]):""}),k=y(()=>{var n,l,c,i,r,u,m,h,p;return[(l=(n=s.value)==null?void 0:n.death)==null?void 0:l.date,(i=(c=s.value)==null?void 0:c.death)!=null&&i.age?` ${(r=s.value)==null?void 0:r.death.age} ${o("Years")}
`:"",(m=(u=s.value)==null?void 0:u.death)==null?void 0:m.city,(p=(h=s.value)==null?void 0:h.death)==null?void 0:p.province].filter(Boolean).join(" - ")});return P({title:E,meta:[{name:"description",content:k.value},{name:"og:title",content:f.value},{name:"og:description",content:k.value},{name:"og:image",content:V(x.value)},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:f.value},{name:"twitter:description",content:k.value},{name:"twitter:image",content:V(x.value)}]}),(n,l)=>{var u,m,h,p,F,I,O,S;const c=X,i=z,r=J;return d(),_("div",null,[B(c,{to:e(Y)(e(Z)),class:"flex p-4 items-center justify-center bg-gray-100"},{default:U(()=>[ae,v(" "+a(e(o)("Back To List")),1)]),_:1},8,["to"]),t("div",oe,[e(x)?(d(),_("div",ne,[t("img",{src:e(x),alt:"",class:"w-full h-full rounded-full mx-auto block object-cover"},null,8,le)])):j("",!0),t("h1",ce,a(e(f)),1),t("div",ie,[t("div",re,[t("div",de,a(e(o)("Birth")),1),t("div",null,[t("span",_e,a(e(A)((u=e(s).birth)==null?void 0:u.date)),1),v(" - "),t("span",ue,a(e(o)((m=e(s).birth)==null?void 0:m.city)),1),v(" - "),t("span",me,a(e(o)((h=e(s).birth)==null?void 0:h.province)),1)])]),t("div",he,[t("div",pe,a(e(o)("Death")),1),t("span",ve,a(e(A)((p=e(s).death)==null?void 0:p.date)),1),v(" - "),t("span",ge,a(e(o)((F=e(s).death)==null?void 0:F.city)),1),v(" - "),t("span",fe,a(e(o)((I=e(s).death)==null?void 0:I.province)),1)]),t("div",xe,[t("div",ye,a(e(o)("Age")),1),t("span",we,a(e(o)((O=e(s).death)==null?void 0:O.age)||"-"),1)])]),t("div",be,[e(s).wikipedia?(d(),_("a",{key:0,rel:"noopener noreferrer",target:"_blank",title:"wikipedia",href:e(s).wikipedia,class:"inline-block border border-gray-300 rounded-md shadow-sm py-1 px-1 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[B(i,{class:"w-4 h-4"})],8,ke)):j("",!0)]),Be,t("div",je,[B(r,{value:e(s)},{empty:U(()=>[$e]),_:1},8,["value"])]),(S=e(s).images)!=null&&S.length?(d(),_(W,{key:1},[t("h4",Ce,a(e(o)("Gallery")),1),t("div",Ve,[(d(!0),_(W,null,Q(e(s).images,T=>(d(),_("div",{key:T,class:"relative w-full pb-[100%]"},[t("img",{src:e(C)(e(s)._path,T),class:"w-full h-full object-cover absolute"},null,8,Ae)]))),128))])],64)):j("",!0)])])}}});export{Oe as _};
