import W from"./IconWikipedia.bc979242.js";import Y from"./ContentRenderer.a6a7b140.js";import{u as E}from"./useAbsoluteURL.31234efd.js";import{f as G,a as H,p as I,S as K,k as x,e as O,o as _,K as u,u as s,L as t,U as b,V as o,W as g,X as U,R as T,Y as q,Z as X}from"./entry.c5de7378.js";import{u as Z}from"./asyncData.931b3716.js";import{q as z}from"./query.668f47fa.js";import"./ContentRendererMarkdown.b2d70e6a.js";import"./_commonjsHelpers.f8a6f4fc.js";import"./utils.d78dc98c.js";const J={class:"flex flex-col items-center justify-center p-4"},M={key:0,class:"w-36 h-36"},P=["src"],Q={class:"text-3xl my-3"},ee={class:"flex flex-col items-center justify-center text-center gap-1 mt-2"},te={class:"text-sm text-gray-500"},se={class:"my-1"},ae={class:"text-black"},oe={class:"text-black"},ne={class:"text-black"},ie={class:"text-sm text-gray-500"},ce={class:"my-1"},le={class:"text-black"},re={class:"text-black"},de={class:"text-black"},_e={class:"text-sm text-gray-500"},ue={class:"my-1"},me={class:"text-black"},he={class:"bottom-0",dir:"ltr"},pe=["href"],ve=t("hr",{class:"bg-gray-500 w-full mt-8"},null,-1),ge={class:"content p-8 max-w-[680px] leading-7"},fe=t("div",null,null,-1),ye={class:"my-2"},xe={class:"w-full grid grid-cols-4 gap-2"},be=["src"],Le=G({__name:"[...slug]",async setup(ke){var j,B;let p,k;const{absoluteURL:w}=E(),f=H(),{$t:i,$lang:F,$date:$}=I(),A="/"+(Array.isArray(f.params.slug)?f.params.slug:[f.params.slug]).filter(Boolean).join("/"),{data:e}=([p,k]=K(()=>Z(A,()=>z(A).without(["excerpt","_file"]).sort({"death.date":-1}).findOne(),{transform:a=>{var r,c,l,n,d,h;return{...a,death:{...a.death,date:$((r=a.death)==null?void 0:r.date),city:i((c=a.death)==null?void 0:c.city),province:i((l=a.death)==null?void 0:l.province)},birth:{...a.birth,date:$((n=a.birth)==null?void 0:n.date),city:i((d=a.birth)==null?void 0:d.city),province:i((h=a.birth)==null?void 0:h.province)}}}})),p=await p,k(),p),m=x(()=>F==="en"?e.value.name:e.value.nameFa),S=`${m.value} - ${(j=e.value.death)==null?void 0:j.city} - ${(B=e.value.death)==null?void 0:B.province}`,v=x(()=>{var a,r,c,l,n;return(r=(a=e.value)==null?void 0:a.images)!=null&&r[0]?w((c=e.value)==null?void 0:c._path,(n=(l=e.value)==null?void 0:l.images)==null?void 0:n[0]):""}),y=x(()=>{var a,r,c,l,n,d;return[m.value,(a=e.value)!=null&&a.death.age?` ${(r=e.value)==null?void 0:r.death.age} ${i("Years")}
`:"",(l=(c=e.value)==null?void 0:c.death)==null?void 0:l.date,(n=e.value.death)==null?void 0:n.city,(d=e.value.death)==null?void 0:d.province].filter(Boolean).join(" - ")});return O({title:S,meta:[{name:"description",content:y.value},{name:"og:title",content:m.value},{name:"og:description",content:y.value},{name:"og:image",content:v.value},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:m.value},{name:"twitter:description",content:y.value},{name:"twitter:image",content:v.value}]}),(a,r)=>{var n,d,h,C,N,R,V,L;const c=W,l=Y;return _(),u("div",J,[s(v)?(_(),u("div",M,[t("img",{src:s(v),alt:"",class:"w-full h-full rounded-full mx-auto block object-cover"},null,8,P)])):b("",!0),t("h1",Q,o(s(m)),1),t("div",ee,[t("div",te,[t("div",se,o(s(i)("Birth")),1),t("div",null,[t("span",ae,o((n=s(e).birth)==null?void 0:n.date),1),g(" - "),t("span",oe,o((d=s(e).birth)==null?void 0:d.city),1),g(" - "),t("span",ne,o((h=s(e).birth)==null?void 0:h.province),1)])]),t("div",ie,[t("div",ce,o(s(i)("Death")),1),t("span",le,o((C=s(e).death)==null?void 0:C.date),1),g(" - "),t("span",re,o((N=s(e).death)==null?void 0:N.city),1),g(" - "),t("span",de,o((R=s(e).death)==null?void 0:R.province),1)]),t("div",_e,[t("div",ue,o(s(i)("Age")),1),t("span",me,o(s(i)((V=s(e).death)==null?void 0:V.age)||"-"),1)])]),t("div",he,[s(e).wikipedia?(_(),u("a",{key:0,rel:"noopener noreferrer",target:"_blank",title:"wikipedia",href:s(e).wikipedia,class:"inline-block border border-gray-300 rounded-md shadow-sm py-1 px-1 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[U(c,{class:"w-4 h-4"})],8,pe)):b("",!0)]),ve,t("div",ge,[U(l,{value:s(e)},{empty:T(()=>[fe]),_:1},8,["value"])]),(L=s(e).images)!=null&&L.length?(_(),u(q,{key:1},[t("h4",ye,o(s(i)("Gallery")),1),t("div",xe,[(_(!0),u(q,null,X(s(e).images,D=>(_(),u("div",{key:D,class:"relative w-full pb-[100%]"},[t("img",{src:s(w)(s(e)._path,D),class:"w-full h-full object-cover absolute"},null,8,be)]))),128))])],64)):b("",!0)])}}});export{Le as default};
