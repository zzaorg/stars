import{e as I,U as E,p as H,$ as J,h as C,V as P,x as X,r as G,o as l,a as d,W as h,s as u,u as t,X as v,a0 as K,a1 as O,a2 as Q,t as i,Y as ee,Z as ue,c as D,S as T,b as U,a3 as W,R as te}from"./entry.bab6728b.js";import se from"./IconWikipedia.66e570ff.js";import{_ as oe}from"./AppTable.vue_vue_type_script_setup_true_lang.29abd199.js";import{u as ae}from"./useURL.931bc968.js";import{u as ne}from"./asyncData.8da181a8.js";import{q as re}from"./query.559b9f2d.js";const le={class:"flex"},ie={class:"flex-1"},de={key:0,class:"p-4 pt-6 bg-yellow-500 text-xs text-center"},ce=u("br",null,null,-1),pe={class:"p-4 pb-3 mb-3 sticky top-0 bg-white z-20"},he={class:"flex gap-x-3"},_e=["placeholder"],Ce={class:"mt-1"},ve={class:"text-gray-500"},fe={class:"text-black"},ge={key:0,class:"text-gray-500"},xe=u("span",{class:"mx-2"},"|",-1),ye={class:"text-gray-500 inline-flex gap-2"},me=u("svg",{class:"w-4 h-4",width:"32",height:"32",viewBox:"0 0 24 24"},[u("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12L5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1),Fe=u("svg",{class:"w-4 h-4",width:"32",height:"32",viewBox:"0 0 24 24"},[u("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12L5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1),ke=u("svg",{class:"w-4 h-4",width:"32",height:"32",viewBox:"0 0 24 24"},[u("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12L5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1),we=u("svg",{class:"w-4 h-4",width:"32",height:"32",viewBox:"0 0 24 24"},[u("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12L5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1),Ae={class:"p-4"},be={key:0,class:"grid grid-cols-1 gap-y-5 gap-x-3 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},Le={class:"flex items-start border rounded-md"},$e=["src","alt"],qe={class:"flex-1 min-w-0 relative flex flex-col flex-auto px-4 py-2 h-[176px]"},Be={class:"font-semibold text-slate-900 truncate"},Me={class:"mt-2 flex flex-1 flex-wrap text-sm leading-2 font-medium gap-x-1"},Ve=["onClick"],je=u("dt",{class:"sr-only"},"Location",-1),Ne={class:"px-1.5 text-sm ring-1 ring-slate-200 rounded"},Re=["onClick"],Se=u("dt",{class:"sr-only"},"Location",-1),Ze={class:"px-1.5 text-sm ring-1 ring-slate-200 rounded"},De={class:"flex-none w-full font-normal"},Te=u("dt",{class:"sr-only"},"Cast",-1),Ue={class:"text-slate-600"},We=["onClick"],Ye=["onClick"],ze={class:"bottom-0",dir:"ltr"},Ie=["href"],Oe=I({__name:"ListPage",async setup(Ee){let w,M;const{withAppBase:Y,join:V}=ae(),{$t:c,$date:b,lang:A}=E(),r=H(),y=J(),j=C(()=>A.value==="fa"?"":A.value),{data:L}=([w,M]=P(()=>ne(()=>re().without(["body","excerpt","_file"]).sort({"death.date":-1}).find(),{transform:e=>e.map(n=>{var o,a,_,s,F;return{...n,text:`${n.name} ${((o=n.death)==null?void 0:o.city)||""} ${c(((a=n.death)==null?void 0:a.city)||"")} ${((_=n.death)==null?void 0:_.province)||""} ${c(((s=n.death)==null?void 0:s.province)||"")} ${b((F=n.death)==null?void 0:F.date)} ${n.nameFa}`.toLocaleLowerCase()}})},"$1C0aCTM7Jg")),w=await w,M(),w),$=C(()=>"\u0639\u0632\u06CC\u0632\u0627\u0646\u06CC \u06A9\u0647 \u062F\u0631 \u0631\u0648\u0632\u0647\u0627\u06CC \u06AF\u0630\u0634\u062A\u0647 \u0627\u0632 \u0645\u06CC\u0627\u0646 \u0645\u0627 \u0631\u0641\u062A\u0647\u200C\u0627\u0646\u062F.");X({title:"\u06A9\u0634\u062A\u0647 \u0634\u062F\u06AF\u0627\u0646 \u0627\u0639\u062A\u0631\u0627\u0636\u0627\u062A \u0633\u0631\u0627\u0633\u0631\u06CC \u0627\u06CC\u0631\u0627\u0646 \u06F1\u06F4\u06F0\u06F1",meta:[{name:"description",content:$.value},{name:"og:title",content:"\u06A9\u0634\u062A\u0647 \u0634\u062F\u06AF\u0627\u0646 \u0627\u0639\u062A\u0631\u0627\u0636\u0627\u062A \u0633\u0631\u0627\u0633\u0631\u06CC \u0627\u06CC\u0631\u0627\u0646 \u06F1\u06F4\u06F0\u06F1"},{name:"og:description",content:$.value},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:"\u06A9\u0634\u062A\u0647 \u0634\u062F\u06AF\u0627\u0646 \u0627\u0639\u062A\u0631\u0627\u0636\u0627\u062A \u0633\u0631\u0627\u0633\u0631\u06CC \u0627\u06CC\u0631\u0627\u0646 \u06F1\u06F4\u06F0\u06F1"},{name:"twitter:description",content:$.value}]});const z=G("grid"),m=C({get:()=>r.query.q||"",set:e=>y.replace({path:r.path,query:{...r.query,q:e||void 0}})}),f=C({get:()=>r.query.city||"",set:e=>y.replace({path:r.path,query:{...r.query,city:e||void 0}})}),g=C({get:()=>r.query.province||"",set:e=>y.replace({path:r.path,query:{...r.query,province:e||void 0}})}),x=C({get:()=>r.query.date||"",set:e=>y.replace({path:r.path,query:{...r.query,date:e||void 0}})}),p=C({get:()=>r.query.age,set:e=>y.replace({path:r.path,query:{...r.query,age:e||void 0}})}),q=C(()=>{let e=L.value||[];if(f.value&&(e=e.filter(o=>{var a;return((a=o.death)==null?void 0:a.city)===f.value})),g.value&&(e=e.filter(o=>{var a;return((a=o.death)==null?void 0:a.province)===g.value})),x.value&&(e=e.filter(o=>{var a;return((a=o.death)==null?void 0:a.date)===x.value})),p.value)if(String(p.value).startsWith(">")){const o=+p.value.slice(1);e=e.filter(a=>{var _;return((_=a.death)==null?void 0:_.age)>o})}else if(String(p.value).startsWith("<")){const o=+p.value.slice(1);e=e.filter(a=>{var _;return((_=a.death)==null?void 0:_.age)<o})}else e=e.filter(o=>{var a;return((a=o.death)==null?void 0:a.age)===p.value});if(!m.value)return e;const n=m.value.toLowerCase();return e.filter(o=>o.text.includes(n))});return C(()=>L.value.reduce((e,n)=>{var a;const o=(a=n.death)==null?void 0:a.city;return e[o]||(e[o]=0),e[o]+=1,e},{})),C(()=>L.value.reduce((e,n)=>{var a;const o=((a=n.death)==null?void 0:a.date)||"Unknown";return e[o]||(e[o]=0),e[o]+=1,e},{})),(e,n)=>{const o=te,a=se,_=oe;return l(),d("div",le,[h("",!0),u("div",ie,[t(A)==="fa"?(l(),d("p",de,[v(" \u0627\u06CC\u0646 \u0644\u06CC\u0633\u062A \u06A9\u0627\u0645\u0644 \u0646\u0628\u0648\u062F\u0647 \u0648 \u062A\u0639\u062F\u0627\u062F \u0639\u0632\u06CC\u0632\u0627\u0646\u06CC \u06A9\u0647 \u062F\u06CC\u06AF\u0631 \u062F\u0631 \u0645\u06CC\u0627\u0646 \u0645\u0627 \u0646\u06CC\u0633\u062A\u062F \u0628\u06CC\u0634\u062A\u0631 \u0627\u0632 \u062A\u0639\u062F\u0627\u062F \u0646\u0645\u0627\u06CC\u0634 \u062F\u0627\u062F\u0647 \u0634\u062F\u0647 \u062F\u0631 \u0627\u06CC\u0646 \u0644\u06CC\u0633\u062A \u0627\u0633\u062A."),ce,v(" \u0627\u06AF\u0631 \u0627\u0632 \u0646\u0627\u0645 \u0641\u0631\u062F\u06CC \u06A9\u0647 \u062F\u0631 \u0627\u06CC\u0646 \u0644\u06CC\u0633\u062A \u0646\u06CC\u0633\u062A \u0631\u0627 \u0645\u06CC\u200C\u062F\u0627\u0646\u06CC\u062F \u06CC\u0627 \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u062A\u06A9\u0645\u06CC\u0644\u06CC \u062F\u0631 \u0645\u0648\u0631\u062F \u0647\u0631\u06A9\u062F\u0627\u0645 \u0639\u0632\u06CC\u0632\u0627\u0646 \u062F\u0627\u0631\u06CC\u062F \u0644\u0637\u0641\u0627 \u0628\u0647 \u0645\u0627 \u0627\u0637\u0644\u0627\u0639 \u062F\u0647\u06CC\u062F. ")])):h("",!0),u("div",pe,[u("div",he,[K(u("input",{"onUpdate:modelValue":n[2]||(n[2]=s=>Q(m)?m.value=s:null),placeholder:t(c)("Search here"),class:"flex-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,8,_e),[[O,t(m)]])]),u("div",Ce,[u("span",ve,[u("strong",fe,i(t(q).length),1),v(" "+i(t(c)("person")),1)]),t(f)||t(g)||t(x)||t(p)?(l(),d("span",ge,[xe,u("span",ye,[u("span",null,i(t(c)("Filtered by"))+":",1),t(f)?(l(),d("span",{key:0,class:"flex items-center justify-center gap-2 text-black cursor-pointer border px-2 rounded text-sm",onClick:n[3]||(n[3]=s=>f.value="")},[me,v(" "+i(t(c)(t(f))),1)])):h("",!0),t(g)?(l(),d("span",{key:1,class:"flex items-center justify-center gap-2 text-black cursor-pointer border px-2 rounded text-sm",onClick:n[4]||(n[4]=s=>g.value="")},[Fe,v(" "+i(t(c)(t(g))),1)])):h("",!0),t(x)?(l(),d("span",{key:2,class:"flex items-center justify-center gap-2 text-black cursor-pointer border px-2 rounded text-sm",onClick:n[5]||(n[5]=s=>x.value="")},[ke,v(" "+i(t(b)(t(x))),1)])):h("",!0),t(p)?(l(),d("span",{key:3,class:"flex items-center justify-center gap-2 text-black cursor-pointer border px-2 rounded text-sm",onClick:n[6]||(n[6]=s=>p.value="")},[we,v(" "+i(t(p))+" "+i(t(c)("Years")),1)])):h("",!0)])])):h("",!0)])]),u("div",Ae,[z.value==="grid"?(l(),d("div",be,[(l(!0),d(ee,null,ue(t(q),s=>{var F,N,R,S,Z;return l(),d("article",{key:s._path},[u("div",Le,[s.images&&s.images.length?(l(),D(o,{key:0,to:t(V)(t(j),s._path)+"/",class:"block w-[120px] h-[176px] flex-none"},{default:T(()=>[u("img",{src:t(Y)(s._path,s.images[0]),alt:s.name,width:"120",height:"176",class:"rounded-md bg-slate-100 object-cover w-[120px] h-[176px]",loading:"lazy"},null,8,$e)]),_:2},1032,["to"])):h("",!0),u("div",qe,[u("h2",Be,[U(o,{to:t(V)(t(j),s._path)+"/"},{default:T(()=>[v(i(t(A)==="en"?s.name:s.nameFa),1)]),_:2},1032,["to"])]),u("dl",Me,[u("div",{class:"cursor-pointer",onClick:W(B=>{var k;return f.value=(k=s.death)==null?void 0:k.city},["prevent"])},[je,u("dd",Ne,i(t(c)((F=s.death)==null?void 0:F.city)),1)],8,Ve),(N=s.death)!=null&&N.province?(l(),d("div",{key:0,class:"cursor-pointer",onClick:W(B=>{var k;return g.value=(k=s.death)==null?void 0:k.province},["prevent"])},[Se,u("dd",Ze,i(t(c)((R=s.death)==null?void 0:R.province)),1)],8,Re)):h("",!0),u("div",De,[Te,u("dd",Ue,[u("span",{class:"cursor-pointer",onClick:B=>x.value=s.death.date},i(t(b)(s.death.date)),9,We),(S=s.death)!=null&&S.age?(l(),d("span",{key:0,class:"cursor-pointer",onClick:B=>p.value=s.death.age}," \u2022 "+i((Z=s.death)==null?void 0:Z.age)+" "+i(t(c)("Years")),9,Ye)):h("",!0)])])]),u("div",ze,[s.wikipedia?(l(),d("a",{key:0,rel:"noopener noreferrer",target:"_blank",title:"wikipedia",href:s.wikipedia,class:"inline-block border border-gray-300 rounded-md shadow-sm py-1 px-1 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[U(a,{class:"w-4 h-4"})],8,Ie)):h("",!0)])])])])}),128))])):(l(),D(_,{key:1,class:"text-right",rows:t(q)},null,8,["rows"]))])])])}}});export{Oe as _};
