import{f as Z,R as E,k as f,a as G,S as H,e as K,o as _,K as u,U as w,Q as S,u as s,L as e,V as k,W as o,X as p,Y as T,Z as M,O as P}from"./entry.5a601d45.js";import Q from"./IconWikipedia.55479db7.js";import X from"./ContentRenderer.ae3b2525.js";import{u as z}from"./useURL.56dc4b41.js";import{u as J}from"./asyncData.5ea1dc79.js";import{q as ee}from"./query.f130360c.js";const te=e("svg",{class:"w-4 h-4",width:"32",height:"32",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 20.25a.75.75 0 0 1-.75-.75V6.31l-5.47 5.47a.75.75 0 0 1-1.06-1.06l6.75-6.75a.75.75 0 0 1 1.06 0l6.75 6.75a.75.75 0 1 1-1.06 1.06l-5.47-5.47V19.5a.75.75 0 0 1-.75.75Z","clip-rule":"evenodd"})],-1),se={class:"flex flex-col items-center justify-center p-4"},ae={key:0,class:"w-36 h-36"},oe=["src"],ne={class:"text-3xl my-3"},ie={class:"flex flex-col items-center justify-center text-center gap-1 mt-2"},ce={class:"text-sm text-gray-500"},le={class:"my-1"},re={class:"text-black"},de={class:"text-black"},_e={class:"text-black"},ue={class:"text-sm text-gray-500"},he={class:"my-1"},me={class:"text-black"},pe={class:"text-black"},ve={class:"text-black"},ge={class:"text-sm text-gray-500"},fe={class:"my-1"},ye={class:"text-black"},xe={class:"bottom-0",dir:"ltr"},be=["href"],we=e("hr",{class:"bg-gray-500 w-full mt-8"},null,-1),ke={class:"content p-8 max-w-[680px] leading-7"},Be=e("div",null,null,-1),je={class:"my-2"},$e={class:"w-full grid grid-cols-4 gap-2"},Ce=["src"],Fe=Z({__name:"DetailsPage",async setup(Ve){var A,D;let v,B;const{withAppBase:j,join:U,withDomain:$}=z(),{$t:n,$date:C,lang:y}=E(),W=f(()=>y.value==="fa"?"":y.value),x=G(),V="/"+(Array.isArray(x.params.slug)?x.params.slug:[x.params.slug]).filter(Boolean).join("/"),{data:t}=([v,B]=H(()=>J(V,()=>ee(V).without(["excerpt","_file"]).sort({"death.date":-1}).findOne(),{transform:a=>{var r,i,c,l,d,m;return{...a,death:{...a.death,date:C((r=a.death)==null?void 0:r.date),city:n((i=a.death)==null?void 0:i.city),province:n((c=a.death)==null?void 0:c.province)},birth:{...a.birth,date:C((l=a.birth)==null?void 0:l.date),city:n((d=a.birth)==null?void 0:d.city),province:n((m=a.birth)==null?void 0:m.province)}}}})),v=await v,B(),v),h=f(()=>y.value==="en"?t.value.name:t.value.nameFa),Y=`${h.value} - ${(A=t.value.death)==null?void 0:A.city} - ${(D=t.value.death)==null?void 0:D.province}`,g=f(()=>{var a,r,i,c,l;return(r=(a=t.value)==null?void 0:a.images)!=null&&r[0]?j((i=t.value)==null?void 0:i._path,(l=(c=t.value)==null?void 0:c.images)==null?void 0:l[0]):""}),b=f(()=>{var a,r,i,c,l,d;return[h.value,(a=t.value)!=null&&a.death.age?` ${(r=t.value)==null?void 0:r.death.age} ${n("Years")}
`:"",(c=(i=t.value)==null?void 0:i.death)==null?void 0:c.date,(l=t.value.death)==null?void 0:l.city,(d=t.value.death)==null?void 0:d.province].filter(Boolean).join(" - ")});return K({title:Y,meta:[{name:"description",content:b.value},{name:"og:title",content:h.value},{name:"og:description",content:b.value},{name:"og:image",content:$(g.value)},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:h.value},{name:"twitter:description",content:b.value},{name:"twitter:image",content:$(g.value)}]}),(a,r)=>{var d,m,L,N,R,q,F,I;const i=P,c=Q,l=X;return _(),u("div",null,[w(i,{to:s(U)(s(W)),class:"flex p-4 items-center justify-center bg-gray-100"},{default:S(()=>[te,p(" "+o(s(n)("Back To List")),1)]),_:1},8,["to"]),e("div",se,[s(g)?(_(),u("div",ae,[e("img",{src:s(g),alt:"",class:"w-full h-full rounded-full mx-auto block object-cover"},null,8,oe)])):k("",!0),e("h1",ne,o(s(h)),1),e("div",ie,[e("div",ce,[e("div",le,o(s(n)("Birth")),1),e("div",null,[e("span",re,o((d=s(t).birth)==null?void 0:d.date),1),p(" - "),e("span",de,o((m=s(t).birth)==null?void 0:m.city),1),p(" - "),e("span",_e,o((L=s(t).birth)==null?void 0:L.province),1)])]),e("div",ue,[e("div",he,o(s(n)("Death")),1),e("span",me,o((N=s(t).death)==null?void 0:N.date),1),p(" - "),e("span",pe,o((R=s(t).death)==null?void 0:R.city),1),p(" - "),e("span",ve,o((q=s(t).death)==null?void 0:q.province),1)]),e("div",ge,[e("div",fe,o(s(n)("Age")),1),e("span",ye,o(s(n)((F=s(t).death)==null?void 0:F.age)||"-"),1)])]),e("div",xe,[s(t).wikipedia?(_(),u("a",{key:0,rel:"noopener noreferrer",target:"_blank",title:"wikipedia",href:s(t).wikipedia,class:"inline-block border border-gray-300 rounded-md shadow-sm py-1 px-1 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[w(c,{class:"w-4 h-4"})],8,be)):k("",!0)]),we,e("div",ke,[w(l,{value:s(t)},{empty:S(()=>[Be]),_:1},8,["value"])]),(I=s(t).images)!=null&&I.length?(_(),u(T,{key:1},[e("h4",je,o(s(n)("Gallery")),1),e("div",$e,[(_(!0),u(T,null,M(s(t).images,O=>(_(),u("div",{key:O,class:"relative w-full pb-[100%]"},[e("img",{src:s(j)(s(t)._path,O),class:"w-full h-full object-cover absolute"},null,8,Ce)]))),128))])],64)):k("",!0)])])}}});export{Fe as _};
