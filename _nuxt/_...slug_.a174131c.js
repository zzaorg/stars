import q from"./IconWikipedia.4f8b8c6b.js";import F from"./ContentRenderer.cd461d32.js";import{u as S}from"./useAbsoluteURL.69d1eb59.js";import{a as W,p as Y,S as E,k as x,e as G,o as h,K as p,L as t,u as s,U as o,V as v,W as L,X as H,R as I,Y as K,Z as O}from"./entry.836e56b9.js";import{u as T}from"./asyncData.44d6de39.js";import{q as X}from"./query.0a33fa3c.js";import"./ContentRendererMarkdown.da7fdd18.js";import"./_commonjsHelpers.f8a6f4fc.js";import"./utils.c96a975a.js";const Z={class:"flex flex-col items-center justify-center p-4"},z={class:"w-36 h-36"},J=["src"],M={class:"text-3xl my-3"},P={class:"flex flex-col items-center justify-center text-center gap-1 mt-2"},Q={class:"text-sm text-gray-500"},tt={class:"my-1"},et={class:"text-black"},st={class:"text-black"},at={class:"text-black"},ot={class:"text-sm text-gray-500"},nt={class:"my-1"},ct={class:"text-black"},it={class:"text-black"},lt={class:"text-black"},rt={class:"text-sm text-gray-500"},dt={class:"my-1"},_t={class:"text-black"},ut={class:"bottom-0",dir:"ltr"},mt=["href"],ht=t("hr",{class:"bg-gray-500 w-full mt-8"},null,-1),pt={class:"content p-8 max-w-[680px] leading-7"},vt=t("div",null,null,-1),gt={class:"my-2"},ft={class:"w-full grid grid-cols-4 gap-2"},yt=["src"],Rt={__name:"[...slug]",async setup(xt){var A,j;let m,b;const{absoluteURL:w}=S(),g=W(),{$t:n,$lang:D,$date:k}=Y(),$="/"+(Array.isArray(g.params.slug)?g.params.slug:[g.params.slug]).filter(Boolean).join("/"),{data:e}=([m,b]=E(()=>T($,()=>X($).without(["excerpt","_file"]).sort({"death.date":-1}).findOne(),{transform:a=>{var i,c,d,l,r,u;return{...a,death:{...a.death,date:k((i=a.death)==null?void 0:i.date),city:n((c=a.death)==null?void 0:c.city),province:n((d=a.death)==null?void 0:d.province)},birth:{...a.birth,date:k((l=a.birth)==null?void 0:l.date),city:n((r=a.birth)==null?void 0:r.city),province:n((u=a.birth)==null?void 0:u.province)}}}})),m=await m,b(),m),_=x(()=>D==="en"?e.value.name:e.value.nameFa),U=`${_.value} - ${(A=e.value.death)==null?void 0:A.city} - ${(j=e.value.death)==null?void 0:j.province}`,f=x(()=>{var a,i,c;return w((a=e.value)==null?void 0:a._path,(c=(i=e.value)==null?void 0:i.images)==null?void 0:c[0])}),y=x(()=>{var a,i,c,d,l,r;return[_.value,(a=e.value)!=null&&a.death.age?` ${(i=e.value)==null?void 0:i.death.age} ${n("Years")}
`:"",(d=(c=e.value)==null?void 0:c.death)==null?void 0:d.date,(l=e.value.death)==null?void 0:l.city,(r=e.value.death)==null?void 0:r.province].filter(Boolean).join(" - ")});return G({title:U,meta:[{name:"description",content:y.value},{name:"og:title",content:_.value},{name:"og:description",content:y.value},{name:"og:image",content:f.value},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:_.value},{name:"twitter:description",content:y.value},{name:"twitter:image",content:f.value}]}),(a,i)=>{var l,r,u,B,C,N,R;const c=q,d=F;return h(),p("div",Z,[t("div",z,[t("img",{src:s(f),alt:"",class:"w-full h-full rounded-full mx-auto block object-cover"},null,8,J)]),t("h1",M,o(s(_)),1),t("div",P,[t("div",Q,[t("div",tt,o(s(n)("Birth")),1),t("div",null,[t("span",et,o((l=s(e).birth)==null?void 0:l.date),1),v(" - "),t("span",st,o((r=s(e).birth)==null?void 0:r.city),1),v(" - "),t("span",at,o((u=s(e).birth)==null?void 0:u.province),1)])]),t("div",ot,[t("div",nt,o(s(n)("Death")),1),t("span",ct,o((B=s(e).death)==null?void 0:B.date),1),v(" - "),t("span",it,o((C=s(e).death)==null?void 0:C.city),1),v(" - "),t("span",lt,o((N=s(e).death)==null?void 0:N.province),1)]),t("div",rt,[t("div",dt,o(s(n)("Age")),1),t("span",_t,o(s(n)((R=s(e).death)==null?void 0:R.age)||"-"),1)])]),t("div",ut,[s(e).wikipedia?(h(),p("a",{key:0,rel:"noopener noreferrer",target:"_blank",title:"wikipedia",href:s(e).wikipedia,class:"inline-block border border-gray-300 rounded-md shadow-sm py-1 px-1 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[L(c,{class:"w-4 h-4"})],8,mt)):H("",!0)]),ht,t("div",pt,[L(d,{value:s(e)},{empty:I(()=>[vt]),_:1},8,["value"])]),t("h4",gt,o(s(n)("Gallery")),1),t("div",ft,[(h(!0),p(K,null,O(s(e).images,V=>(h(),p("div",{key:V,class:"relative w-full pb-[100%]"},[t("img",{src:s(w)(s(e)._path,V),class:"w-full h-full object-cover absolute"},null,8,yt)]))),128))])])}}};export{Rt as default};
