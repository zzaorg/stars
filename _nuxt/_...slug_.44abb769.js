import E from"./IconWikipedia.f7003b32.js";import S from"./ContentRenderer.712d17d2.js";import{l as T,a as U,p as W,S as Y,k as _,e as G,o as p,K as v,L as a,u as s,U as o,V as g,W as F,X as H,R as K,Y as O,Z as P}from"./entry.f2b0a195.js";import{u as X}from"./asyncData.d6595fcf.js";import{q as Z}from"./query.d26720c3.js";import"./ContentRendererMarkdown.ee172cb2.js";import"./_commonjsHelpers.f8a6f4fc.js";import"./utils.6bdef4f0.js";const z={class:"flex flex-col items-center justify-center p-4"},J={class:"w-36 h-36"},M=["src"],Q={class:"text-3xl my-3"},ee={class:"flex flex-col items-center justify-center text-center gap-1 mt-2"},te={class:"text-sm text-gray-500"},ae={class:"my-1"},se={class:"text-black"},oe={class:"text-black"},ne={class:"text-black"},ie={class:"text-sm text-gray-500"},ce={class:"my-1"},le={class:"text-black"},re={class:"text-black"},de={class:"text-black"},_e={class:"text-sm text-gray-500"},ue={class:"my-1"},me={class:"text-black"},he={class:"bottom-0",dir:"ltr"},pe=["href"],ve=a("hr",{class:"bg-gray-500 w-full mt-8"},null,-1),ge={class:"content p-8 max-w-[680px] leading-7"},fe=a("div",null,null,-1),ye={class:"my-2"},xe={class:"w-full grid grid-cols-4 gap-2"},be=["src"],Ne={__name:"[...slug]",async setup(we){var A,j;let h,x;const b=new Intl.DateTimeFormat("fa-IR",{month:"long",day:"numeric",year:"numeric"}),I=T(),f=U(),{$t:n,$lang:L,$date:w}=W(),k="/"+(Array.isArray(f.params.slug)?f.params.slug:[f.params.slug]).filter(Boolean).join("/"),{data:e}=([h,x]=Y(()=>X(k,()=>Z(k).without(["excerpt","_file"]).sort({"death.date":-1}).findOne(),{transform:t=>{var c,i,d,l,r,m;return{...t,death:{...t.death,date:w((c=t.death)==null?void 0:c.date),city:n((i=t.death)==null?void 0:i.city),province:n((d=t.death)==null?void 0:d.province)},birth:{...t.birth,date:w((l=t.birth)==null?void 0:l.date),city:n((r=t.birth)==null?void 0:r.city),province:n((m=t.birth)==null?void 0:m.province)}}}})),h=await h,x(),h),u=_(()=>L==="en"?e.value.name:e.value.nameFa),q=`${u.value} - ${(A=e.value.death)==null?void 0:A.city} - ${(j=e.value.death)==null?void 0:j.province}`,$=_(()=>{var t,c,i;return`${I.public.API_URL}${(t=e.value)==null?void 0:t._path}/${(i=(c=e.value)==null?void 0:c.images)==null?void 0:i[0]}`}),y=_(()=>{var t,c,i,d,l,r;return[u.value,(t=e.value)!=null&&t.death.age?` ${(c=e.value)==null?void 0:c.death.age} ${n("Years")}
`:"",(d=(i=e.value)==null?void 0:i.death)==null?void 0:d.date,(l=e.value.death)==null?void 0:l.city,(r=e.value.death)==null?void 0:r.province].filter(Boolean).join(" - ")});return G({title:q,meta:[{name:"description",content:y.value},{name:"og:title",content:u.value},{name:"og:description",content:y.value},{name:"og:image",content:$.value},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:u.value},{name:"twitter:description",content:y.value},{name:"twitter:image",content:$.value}]}),_(()=>{var t;return((t=e.birth)==null?void 0:t.date)&&b.format(new Date(e.value.birth.date))}),_(()=>{var t;return((t=e.death)==null?void 0:t.date)&&b.format(new Date(e.value.death.date))}),_(()=>{var t;return((t=e.value.death)==null?void 0:t.age)||"?"}),(t,c)=>{var l,r,m,B,C,D,R,N;const i=E,d=S;return p(),v("div",z,[a("div",J,[a("img",{src:`${s(e)._path}/${(l=s(e).images)==null?void 0:l[0]}`,alt:"",class:"w-full h-full rounded-full mx-auto block object-cover"},null,8,M)]),a("h1",Q,o(s(u)),1),a("div",ee,[a("div",te,[a("div",ae,o(s(n)("Birth")),1),a("div",null,[a("span",se,o((r=s(e).birth)==null?void 0:r.date),1),g(" - "),a("span",oe,o((m=s(e).birth)==null?void 0:m.city),1),g(" - "),a("span",ne,o((B=s(e).birth)==null?void 0:B.province),1)])]),a("div",ie,[a("div",ce,o(s(n)("Death")),1),a("span",le,o((C=s(e).death)==null?void 0:C.date),1),g(" - "),a("span",re,o((D=s(e).death)==null?void 0:D.city),1),g(" - "),a("span",de,o((R=s(e).death)==null?void 0:R.province),1)]),a("div",_e,[a("div",ue,o(s(n)("Age")),1),a("span",me,o(s(n)((N=s(e).death)==null?void 0:N.age)||"-"),1)])]),a("div",he,[s(e).wikipedia?(p(),v("a",{key:0,rel:"noopener noreferrer",target:"_blank",title:"wikipedia",href:s(e).wikipedia,class:"inline-block border border-gray-300 rounded-md shadow-sm py-1 px-1 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[F(i,{class:"w-4 h-4"})],8,pe)):H("",!0)]),ve,a("div",ge,[F(d,{value:s(e)},{empty:K(()=>[fe]),_:1},8,["value"])]),a("h4",ye,o(s(n)("Gallery")),1),a("div",xe,[(p(!0),v(O,null,P(s(e).images,V=>(p(),v("div",{key:V,class:"relative w-full pb-[100%]"},[a("img",{src:`${s(e)._path}/${V}`,class:"w-full h-full object-cover absolute"},null,8,be)]))),128))])])}}};export{Ne as default};
